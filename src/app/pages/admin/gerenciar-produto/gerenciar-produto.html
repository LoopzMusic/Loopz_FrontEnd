<div class="dashboard-container d-flex">
  <app-sidebar></app-sidebar>

  <tbody>
  @for (produto of produtos; track produto.cdProduto) {
    <tr>
      <td class="px-4 py-3">
        <div class="d-flex align-items-center gap-3">
          <div class="produto-img-container bg-light rounded d-flex align-items-center justify-content-center">
            <i class="bi bi-music-note-beamed fs-3 text-secondary"></i>
          </div>
          <div>
            <h6 class="mb-0 fw-semibold">{{ produto.nmProduto }}</h6>
      
          </div>
        </div>
      </td>

      <td class="px-4 py-3">
        <span class="fw-semibold">{{ produto.vlProduto | currency:'BRL':'symbol':'1.2-2' }}</span>
      </td>

      <td class="px-4 py-3">
        <span 
          class="badge"
          [class.badge-success]="produto.qtdEstoqueProduto > 10"
          [class.badge-warning]="produto.qtdEstoqueProduto > 0 && produto.qtdEstoqueProduto <= 10"
          [class.badge-danger]="produto.qtdEstoqueProduto === 0">
          {{ produto.qtdEstoqueProduto }} un. - {{ getEstoqueStatus(produto.qtdEstoqueProduto) }}
        </span>
      </td>

      <td class="px-4 py-3">
        <span class="text-muted">{{ produto.dsCategoria }}</span>
      </td>

      <td class="px-4 py-3">
        <div class="d-flex justify-content-center gap-2">
          <button 
            class="btn btn-sm btn-outline-primary"
            (click)="editarProduto(produto.cdProduto)"
            title="Editar produto">
            <i class="bi bi-pencil"></i>
          </button>

          <button 
            class="btn btn-sm btn-outline-danger"
            (click)="confirmarExclusao(produto)"
            title="Excluir produto">
            <i class="bi bi-trash"></i>
          </button>
        </div>
      </td>
    </tr>
  } @empty {
    <tr>
      <td colspan="5" class="text-center py-5">
        <i class="bi bi-inbox fs-1 text-muted"></i>
        <p class="text-muted mt-3 mb-0">Nenhum produto cadastrado</p>
      </td>
    </tr>
  }
</tbody>

</div>